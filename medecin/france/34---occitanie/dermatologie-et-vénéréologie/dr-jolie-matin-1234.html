<!DOCTYPE html>
<html class="no-js" lang="fr-fr" translate="no">

<head>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-TRK4SDDB4H"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-TRK4SDDB4H');
	</script>

	<meta charset="UTF-8">
	<!-- Meta Pixel Code -->
	<script>
		!function (f, b, e, v, n, t, s) {
			if (f.fbq) return; n = f.fbq = function () {
				n.callMethod ?
					n.callMethod.apply(n, arguments) : n.queue.push(arguments)
			};
			if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
			n.queue = []; t = b.createElement(e); t.async = !0;
			t.src = v; s = b.getElementsByTagName(e)[0];
			s.parentNode.insertBefore(t, s)
		}(window, document, 'script',
			'https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '623852967108851');
		fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"
			src="https://www.facebook.com/tr?id=623852967108851&ev=PageView&noscript=1" /></noscript>
	<!-- End Meta Pixel Code -->
	<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description"
		content="Rejoignez WIC Doctor, la plateforme de télémédecine qui vous permet de réserver des rdv médicaux et de consulter votre médecin en ligne">
	<meta name="author" content="Spruko Technologies Private Limited">
	<meta name="keywords"
		content="appointments, booking, bootstrap list template,  directory listing html template,  directory website template, doctor directory, doctor search, health template, healthcare directory, hospital,  html css templates, html directory listing, listing, medical bootstrap template, medical directory, medical html template , medical template,  medical web templates, medical website templates, pharma website templates, responsive html template,template html css, online directory website,  html5 template, themeforest html,  online directory, simple html templates ">

	<!-- Favicon -->
	<link rel="icon" href="./../../../../assets/images/brand/favicon.png" type="image/x-icon">
	<link rel="shortcut icon" type="image/x-icon" href="./../../../../assets/images/brand/favicon.png">

	<!-- Title -->
	<title>Dr Jolie Matin - Dermatologie et vénéréologie à 34 - Occitanie</title>

	<!-- Bootstrap Css -->
	<link id="style" href="./../../../../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- Style Css -->
	<link href="./../../../../assets/css/style.css" rel="stylesheet">
	<!--rihem 09-01-2025-->
	<link href="./../../../../assets/css/font-awesome-all.css" rel="stylesheet">
	<link href="./../../../../assets/css/flaticon.css" rel="stylesheet">
	<link href="./../../../../assets/css/owl.css" rel="stylesheet">
	<link href="./../../../../assets/css/jquery.fancybox.min.css" rel="stylesheet">
	<link href="./../../../../assets/css/animate.css" rel="stylesheet">
	<link href="./../../../../assets/css/imagebg.css" rel="stylesheet">
	<link href="./../../../../assets/css/color.css" rel="stylesheet">
	<link href="./../../../../assets/css/style-2.css" rel="stylesheet">
	<link href="./../../../../assets/css/responsive.css" rel="stylesheet">
	<!--rihem 09-01-2025-->
	<!--Icons  Css -->
	<link href="./../../../../assets/css/icons.css" rel="stylesheet">

</head>

<body>
	<!-- Inclure la bibliothèque d'icônes Material Icons -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<style>
	
  
	.button-float {
		
    position: fixed;
    right: 20px;
   
    
   
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
	}
  
	.button-float a {
	  text-decoration: none;
	  color: inherit;
	}
  
	.button-float .menu-item {
	  display: flex;
	  align-items: center;
	  margin-left: 12px;
	  position: relative;
	}
  
	.button-float .menu-item select {
	  border: none;
	  background: none;
	  font-size: 14px;
	  color: #333;
	  cursor: pointer;
	}
  
	.button-float .menu-item select:focus {
	  outline: none;
	}
  
	.button-float .divider {
	  margin: 0 8px;
	  color: #888;
	}
  
	/* Animation clignotante au chargement */
	@keyframes blink {
	  0%, 100% { opacity: 1; }
	  50% { opacity: 0.5; }
	}
  
	#countrySelect, #languageSelect {
	  animation: blink 2s infinite;
	}
  </style>
  
  <div class="button-float">
	<!-- Sélection du pays -->
	<div class="menu-item">
	  <select id="countrySelect">
		<option value="france">France</option>
		<option value="tunisia">Tunisie</option>
		<option value="italy">Italie</option>
	  </select>
	</div>
  
	<!-- Séparateur -->
	<div class="divider">|</div>
  
	<!-- Sélection de la langue -->
	<div class="menu-item">
	  <select id="languageSelect">
		<option value="fr">FR</option>
	  </select>
	</div>
  
	<!-- Séparateur -->
	<div class="divider">|</div>
  
	<!-- Lien Aide -->
	<div class="menu-item"><a href="#">Aide</a></div>
  
	<!-- Séparateur -->
	<div class="divider">|</div>
  
	<!-- Lien Connexion -->
	<div class="menu-item"><a href="https://fr.wiccrm.com/login.html">Connexion</a></div>
  </div>
  
  <script>
	const countrySelect = document.getElementById('countrySelect');
	const languageSelect = document.getElementById('languageSelect');
  
	// Liens de redirection en fonction du pays sélectionné
	const countryLinks = {
	  "france": "https://fr.wiccrm.com",
	  "tunisia": "https://wic-doctor.com",
	  "italy": "#"
	};
  
	// Rediriger l'utilisateur lorsqu'il sélectionne un pays
	countrySelect.addEventListener('change', function() {
		console.log("changeeeeeeeeeeeeeeeee")
	  const selectedCountry = countrySelect.value;
	  if (countryLinks[selectedCountry]) {
		window.location.href = countryLinks[selectedCountry];
	  }
	});
  
	// Simulation de l'ouverture automatique du menu
	window.addEventListener('DOMContentLoaded', () => {
	  setTimeout(() => {
		countrySelect.style.animation = 'none';
		languageSelect.style.animation = 'none';
	  }, 2000);
	});
  </script>

	<!--Loader-->
	<div id="global-loader">
		<img alt="loader.svg" class="loader-img" src="./../../../../assets/images/loader.svg">
	</div>
	<!--/Loader-->

	<!--rihem 09-01-2025-->



	<!-- main header -->
	<header class="main-header style-two">
		<div class="auto-container">
			<div class="header-upper">
				<div class="outer-box clearfix">
					<div class="logo-box pull-left">
						<figure class="logo"><a href="https://fr.wiccrm.com/"><img alt="wic-dr-logo"
									src="./../../../../assets/images/wic-dr-logo.png" alt=""></a>
						</figure>
					</div>
					<div class="nav-box pull-right clearfix">
						<div class="menu-area pull-left">
							<!--Mobile Navigation Toggler-->
							<div class="mobile-nav-toggler">
								<i class="icon-bar"></i>
								<i class="icon-bar"></i>
								<i class="icon-bar"></i>
							</div>
							<nav class="main-menu navbar-expand-md navbar-light">
								<div class="collapse navbar-collapse show clearfix" id="navbarSupportedContent">

									<ul class="navigation clearfix">
										<li class=" "><a href="https://fr.wiccrm.com/">Accueil</a>

										</li>
										<li><a href="https://fr.wiccrm.com/qui-sommes-nous.html">WIC Dr.</a></li>
										<li class="dropdown">
											<a href="#">Nos Solutions</a>
											<ul class="megamenu">
												<li>
													<img src="./../../../../assets/images/media/photos/medecin-solution.png"
														alt="Logo Praticiens" />
													<a
														href="https://fr.wiccrm.com/nos-solutions-praticien.html">Praticiens</a>
												</li>
												<li>
													<img src="./../../../../assets/images/media/photos/patient-solution.png"
														alt="Logo Patients" />
													<a
														href="https://fr.wiccrm.com/nos-solutions-patient.html">Patients</a>
												</li>
												<li>
													<img src="./../../../../assets/images/media/photos/Télémédecine-soltion.png"
														alt="Logo Télémédecine" />
													<a href="https://fr.wiccrm.com/Telemedecine.html">Télémédecine</a>
												</li>
												<li>
													<img src="./../../../../assets/images/media/photos/technologie-solution.png"
														alt="Logo Technologie" />
													<a href="https://fr.wiccrm.com/technologies-de-pointe.html">Technologie
														de pointe</a>
												</li>
											</ul>
										</li>
										<li class="dropdown">
											<a href="https://fr.wiccrm.com/partenaire.html">Partenaire WIC Dr</a>
											<ul>
												<li><a href="https://fr.wiccrm.com/partenaire.html">Partenaire</a>
												</li>
												<li><a
														href="https://fr.wiccrm.com/collaborateur.html">Collaborateur</a>
												</li>
												<li><a href="https://green-telecom.fr/">Télésecrétariat</a> </li>
											</ul>
										</li>
										<li><a href="https://fr.wiccrm.com/inscription-professionnel/offres.html">Nos
												Tarifs</a></li>
										<li class="dropdown">
											<a href="https://fr.wiccrm.com/pathologies.html">Soins des patients</a>
											<ul>
												<li><a href="https://fr.wiccrm.com/pathologies.html">Pathologies</a>
												</li>
												<li><a href="https://fr.wiccrm.com/intervention.html">Interventions</a>
												</li>
												<li><a href="https://fr.wiccrm.com/diagnostiques.html">Diagnostics</a>
												</li>
											</ul>
										</li>

										<li class=""><a href="https://fr.wiccrm.com/contact.html">Contact</a></li>
										<li>
											<div class="menu-right-content pull-left" id="Login">
												<div class="avatar-initial rounded-circle me-2" id="userAvatar"
													role="button" data-bs-toggle="dropdown" aria-expanded="false"></div>
												<ul class="dropdown-menu dropdown-menu-end"
													aria-labelledby="userAvatar">
													<li><a class="dropdown-item profile"
															href="https://fr.wiccrm.com/profil.html">Mon Profil</a>
													</li>
													<li>
														<hr class="dropdown-divider">
													</li>
													<li><a class="dropdown-item" onclick="Deconexion()">Se
															déconnecter</a></li>
												</ul>
											</div>
										</li>
									</ul>
								</div>
							</nav>
						</div>

					</div>
				</div>
			</div>
		</div>

		<!--sticky Header-->
		<div class="sticky-header">
			<div class="container clearfix">
				<figure class="logo-box"><a href="https://fr.wiccrm.com/"><img alt="small-logo"
							src="./../../../../assets/images/small-logo.png" alt=""></a>
				</figure>
				<div class="menu-area">
					<nav class="main-menu clearfix">
						<!--Keep This Empty / Menu will come through Javascript-->
					</nav>
				</div>
			</div>
		</div>
	</header>
	<!-- main-header end -->

	<!-- Mobile Menu  -->
	<div class="mobile-menu">
		<div class="menu-backdrop"></div>
		<div class="close-btn"><i class="fas fa-times"></i></div>

		<nav class="menu-box">
			<div class="nav-logo"><a href="https://fr.wiccrm.com/"><img alt="wic-dr-logo"
						src="./../../../../assets/images/.png" alt="" title=""></a>
			</div>
			<div class="menu-outer"><!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->
			</div>


		</nav>
	</div><!-- End Mobile Menu -->


	<!--Page Title-->
	<section class="page-title centred" style="padding: 20px 0px 113px 0px !important;">
		<div class="pattern-layer">
			<div class="pattern-1"
				style="background-image: url(https://fr.wiccrm.com/assets/images/icons/pattern-21.png);"></div>
			<div class="pattern-2"
				style="background-image: url(https://fr.wiccrm.com/assets/images/icons/pattern-22.png);"></div>
			<div class="pattern-3 float-bob-x"
				style="background-image: url(https://fr.wiccrm.com/assets/images/icons/pattern-23.png);"></div>
		</div>


	</section>
	<!--End Page Title-->

	<style>
		/* Background with gradient */
		.banner-section {
			background: linear-gradient(30deg, rgb(145 171 165), rgb(33 30 209));
			/*background:rgb(66 63 205);*/
			color: white;
			padding: 0px 0px 60px 0px;
			position: relative;
		}

		/* Header text */
		.header-text h1 {
			font-size: 3rem;
			font-weight: bold;
			text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
			margin-bottom: 15px;
		}

		.subtext {
			font-size: 1.2rem;
			font-weight: 300;
			opacity: 0.9;
		}

		/* Button styles */
		.search-btn {
			background-color: #ff5722;
			color: white;
			border-radius: 25px;
			transition: transform 0.3s, background-color 0.3s;
		}

		.search-btn:hover {
			background-color: #e64a19;
			transform: scale(1.05);
		}

		/* Input fields */


		/* Floating image and shapes */
		.floating-elements {
			position: absolute;

			bottom: 0;
			display: flex;
			align-items: initial;
			height: 300px;
			z-index: -1;
		}

		.bubble {
			background: transparent !important;
			position: absolute;
			animation: pop 4s infinite ease-in-out;
			overflow: hidden;
			z-index: 1;
			border-radius: 0% !important;
		}

		.bubble-p {
			background: transparent !important;
			position: absolute;
			overflow: hidden;
			z-index: 1;
			border-radius: 0% !important;
		}

		.bubble-1 {
			top: 0%;
			left: -50px;
			width: 140px;
			height: 140px;
		}

		.bubble-2 {
			top: 25%;
			left: -80px;
			width: 60px;
			height: 60px;
		}

		.bubble-image {
			width: 100%;
			height: 100%;
			object-fit: cover;
		}

		/* Animation "pop" */
		@keyframes pop {

			0%,
			100% {
				transform: scale(1);
			}

			50% {
				transform: scale(1.2);
			}
		}

		/* Background shapes */
		.background-shape {
			position: absolute;
			border-radius: 40%;
			z-index: -1;
			/* Derrière l'image */
			opacity: 0.9;
		}


		/* Doctor image */
		.doctor-image {
			width: 100%;
			border-radius: 10px;
		}



		/* Media query for mobile */
		@media (max-width: 768px) {
			.doctor-image {
				display: none;
			}

			.background-shape {
				display: none;
			}

			.bubble {
				display: none;
			}

			.bubble-p {
				display: none;
			}
		}

		.doctor-image {
			width: 100%;

		}



		/* Tab menu styles */
		.nav-tabs .nav-link {
			color: white;
			background: transparent;
			border: none;
			font-size: 1.2rem;
			margin-right: 10px;
			transition: color 0.3s;
		}

		.nav-tabs .nav-link:hover,
		.nav-tabs .nav-link.active {
			color: #ff9800;
			font-weight: bold;
		}

		/* HIDE IMAGE ON MOBILE */
		@media (max-width: 768px) {
			.doctor-image {
				display: none;
			}
		}
	</style>



	<!--Section-->
	<section class="sptb">
		<div class="container">
			<div class="row" id="DoctorsDetails">

			</div>
		</div>
	</section>
	<!--/ Section-->

	<!-- Newsletter-->
	<section class="sptb section-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-7 col-xl-6 col-md-12">
					<div class="sub-newsletter">
						<h3 class="mb-2"><i class="fa fa-paper-plane-o me-2"></i> Inscrivez-vous </h3>
						<p class="mb-0">Pour recevoir nos dernières publications


						</p>
					</div>
				</div>
				<div class="col-lg-5 col-xl-6 col-md-12">
					<div class="input-group sub-input mt-1">
						<input class="form-control input-lg" id="email-new" placeholder="Enter your Email" type="text">
						<small id="email-error" style="color: red; display: none;">Veuillez entrer une adresse e-mail
							valide.</small>
					</div>
					<div class="input-group-append">
						<button id="subscribe-btn" class="btn btn-primary btn-lg br-te-3 br-be-3"
							type="button">S’inscrire</button>
					</div>
				</div>
			</div>
		</div>
		</div>
		<script>

			document.getElementById('subscribe-btn').addEventListener('click', function () {
				const emailInput = document.getElementById('email-new'); // Référence au champ input
				const emailError = document.getElementById('email-error'); // Message d'erreur
				const emailValue = emailInput.value.trim(); // Récupérer la valeur et supprimer les espaces
				const apiUrl = 'https://wic-doctor.com:3004/send-News'; // Remplacez par l'URL de votre API

				if (emailValue) {
					// Création de l'objet JSON
					// Expression régulière pour valider les adresses e-mail
					const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

					// Vérifier si l'e-mail est valide
					if (emailRegex.test(emailValue)) {
						// Masquer le message d'erreur si l'e-mail est valide
						emailError.style.display = 'none';
						const data = {
							email: emailValue
						};
						console.log("data: ", JSON.stringify(data))
						// Envoi de la requête
						fetch(apiUrl, {
							method: 'POST',
							headers: {
								'Content-Type': 'application/json'
							},
							body: JSON.stringify(data) // Conversion de l'objet en JSON
						})
							.then(response => response.json())
							.then(result => {
								console.log('Succès:', result);
								if (result.message == "Cet email est déjà enregistré.")
									alert("Cette adresse email a déjà été enregistrée.")
								else
									alert('Inscription réussie !'); emailInput.value = '';
							})
							.catch(error => {
								console.error('Erreur:', error);
								alert('Une erreur s\'est produite.');
							});
					}
					else {
						// Afficher un message d'erreur si l'e-mail est invalide
						emailError.style.display = 'block';
					}

				} else {
					alert('Veuillez entrer une adresse e-mail.');
				}

			});
		</script>
	</section>
	<!--/Newsletter-->

	<!--Footer Section-->
	<section>
		<footer class="text-white footer-bg">
			<div class="footer-main">
				<div class="container">
					<div class="row">
						<div class="col-lg-3 col-md-12">
							<p class="footer-title">À propos </p>
							<hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto mt-0">
							<ul class="list-unstyled mb-0">
								<li>
									<a href="https://fr.wiccrm.com/qui-sommes-nous.html">Qui sommes-nous ?</a>
								</li>
								<li>
									<a href="javascript:;">Témoignages</a>
								</li>

								<li>
									<a href="https://fr.wiccrm.com/FAQ.html">FAQ</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/contact.html">Contactez-nous</a>
								</li>

							</ul>
						</div>
						<div class="col-lg-3 col-md-12">
							<p class="footer-title">Trouvez</p>
							<hr class="deep-purple text-primary accent-2 mb-4 mt-0 d-inline-block mx-auto">
							<div class="clearfix"></div>
							<ul class="list-unstyled mb-0">
								<li>
									<a href="https://fr.wiccrm.com/medecin/tous.html">Professionnels de santé</a>
								</li>
								<!-- <li>
									<a href="https://fr.wiccrm.com/pharmacies/pharmacie.html">Pharmacies &
										Parapharmacies</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/Cliniques/tous.html">Cliniques</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/Laboratoires/tous.html">Laboratoires</a>
								</li> -->

							</ul>
						</div>
						<div class="col-lg-3 col-md-12">
							<p class="footer-title">Ressources</p>
							<hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto mt-0">
							<ul class="list-unstyled mb-0">
								<li>
									<a href="https://fr.wiccrm.com/pathologies.html">Pathologies</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/diagnostiques.html">Diagnostics</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/intervention.html">Interventions</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/journal-medical.html">Journal Médical</a>
								</li>
								<!-- <li>
									<a href="javascript:;">Forum Médical</a>
								</li> -->
								<!-- <li>
									<a href="javascript:;">La technologie Médicale</a>
								</li> -->

							</ul>
						</div>


						<div class="col-lg-3 col-md-12">
							<p class="footer-title">Les conditions</p>
							<hr class="deep-purple text-primary accent-2 mb-4 mt-0 d-inline-block mx-auto">
							<div class="clearfix"></div>
							<ul class="list-unstyled mb-0">
								<li>
									<a href="https://fr.wiccrm.com/Conditions-Générales-de-Vente.html">Conditions
										générales de vente en ligne</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/Conditions-utilisation.html">Conditions
										d'utilisation</a>
									</a>
								</li>
								<li>
									<a
										href="Politique-de-confidentialité-et-d_utilisation-pour-les-sous-traitants.html">Politique
										de confidentialité des données personnelles
									</a>
								</li>
								<li>
									<a href="#">Termes et licences d'utilisation
									</a>
								</li>
								<li>
									<a href="https://fr.wiccrm.com/Mentions-légales.html">Mentions légales</a>
								</li>
								<!-- <li>
									<a href="javascript:;">Support technique</a>
								</li>
								<li>
									<a href="javascript:;">Réseaux Sociaux</a>
								</li> -->
							</ul>
						</div>
						<!-- 	<div class="col-lg-3 col-md-12">
							<h6>Contact</p>
							<hr class="deep-purple text-primary accent-2 mb-4 mt-0 d-inline-block mx-auto">
							<ul class="list-unstyled mb-0 contact-footer">
								<li>
									<i class="fa fa-map-marker"></i> 22 S. Rock Creek StreetSan Carlos, Uniontown CA
									94070, USA
								</li>
								<li>
									<i class="fa fa-envelope "></i>contact@way-interactive-convergence.com
								</li>
								<li>
									<i class="fa fa-phone"></i>+33 2 55 04 55 04
								</li>
								<li>
									<i class="fa fa-print"></i>+ 01 234 567 89
								</li>
							</ul>
						</div> -->

					</div>
				</div>
			</div>
			<div class="text-white p-0">
				<div class="container">
					<div class="row d-flex">
						<div class="col-lg-12 col-sm-12 mt-3 mb-3 text-center">
							Copyright © 2024 WIC DOCTOR All
							rights reserved.
						</div>
					</div>
				</div>
			</div>
		</footer>
	</section>
	<!--Footer Section-->

	<!-- Message Modal -->
	<div class="modal" id="contact" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="examplecontactLongTitle">Send Message</h5>
					<button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<input type="text" class="form-control" id="contact-name" placeholder="Your Name">
					</div>
					<div class="form-group">
						<input type="email" class="form-control" id="contact-email" placeholder="Email Address">
					</div>
					<div class="form-group mb-0">
						<textarea class="form-control" name="example-textarea-input" rows="6"
							placeholder="Message"></textarea>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-success">Send</button>
				</div>
			</div>
		</div>
	</div>
	<!-- /Message Modal -->

	<!--Comment Modal -->
	<div class="modal" id="Comment" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleCommentLongTitle">Leave a Comment</h5>
					<button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<input type="text" class="form-control" id="Comment-name" placeholder="Your Name">
					</div>
					<div class="form-group">
						<input type="email" class="form-control" id="Comment-email" placeholder="Email Address">
					</div>
					<div class="form-group mb-0">
						<textarea class="form-control" name="example-textarea-input" rows="6"
							placeholder="Message"></textarea>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-success">Send</button>
				</div>
			</div>
		</div>
	</div>
	<!--/Comment Modal -->
	<!-- Pop-up et overlay -->
	<div class="overlay" id="overlay"></div>
	<div class="popup" id="popup">
		<h2>Pop-up</h2>
		<p>Contenu de la pop-up ici.</p>
		<button onclick="fermerPopup()">Fermer</button>
	</div>
	<!-- Report Modal -->
	<div class="modal" id="report" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="examplereportLongTitle">Report Abuse</h5>
					<button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<input type="text" class="form-control" id="report-name" placeholder="Enter url">
					</div>
					<div class="control-group form-group">
						<div class="form-group">
							<select class="form-control select2">
								<option value="1" selected>Categories</option>
								<option value="2">Vehiclem</option>
								<option value="3">Identity Theft</option>
								<option value="4">Online Shopping Fraud</option>
								<option value="5">Service Providers</option>
								<option value="6">Phishing</option>
								<option value="7">Spyware</option>
							</select>
						</div>
					</div>
					<div class="form-group">
						<input type="email" class="form-control" id="report-email" placeholder="Email Address">
					</div>
					<div class="form-group mb-0">
						<textarea class="form-control" name="example-textarea-input" rows="6"
							placeholder="Message"></textarea>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-success">Submit</button>
				</div>
			</div>
		</div>
	</div>
	<!-- /Report Modal -->
	<!--Cryptojs-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
	<script src="./../../../../assets/js/recherche.js"></script>
	<script>
		const cookies = document.cookie.split('; ').reduce((prev, current) => {
			const [key, value] = current.split('=');
			prev[key] = value;
			return prev;
		}, {});
		// Clé de chiffrement (doit être sécurisée)
		const secretKey = "maCleSecrete";
		// Fonction pour crypter
		function encryptData(data) {
			return CryptoJS.AES.encrypt(JSON.stringify(data), secretKey).toString();
		}
		// Fonction pour crypter
		function encryptData(data) {
			return CryptoJS.AES.encrypt(JSON.stringify(data), secretKey).toString();
		}
		// Fonction pour décrypter
		function decryptData(cipherText) {
			const bytes = CryptoJS.AES.decrypt(cipherText, secretKey);
			return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));
		}
		function getDoctorName(name) {
			console.log("*************************************************")
			// Vérifiez si `name` est une chaîne JSON
			if (typeof name === 'string' && name.trim().startsWith('{') && name.trim().endsWith('}')) {
				try {
					const parsedName = JSON.parse(name); // Tentez de parser le JSON
					return JSON.parse(name).fr; // Vérifiez si la clé 'fr' existe
				} catch (error) {
					console.error("Erreur lors du parsing :", error);
				}
			}
			return name; // Retourne false si ce n'est pas un JSON valide
		}
		function getDoctorSpec(name1) {
			console.log("*************************************************: ", name1)
			console.log("!name1: ", !name1)

			// Vérifiez si `name` est une chaîne JSON
			if (JSON.stringify(name1).trim().startsWith('[') && JSON.stringify(name1).trim().endsWith(']')) {
				console.log("naaaaaaaaaaaaaaaaaaaaaaaaaaame")
				try {

					console.log("JSON.parse(data[0].name).fr: ", JSON.parse(name1[0].name).fr)
					return JSON.parse(name1[0].name).fr; // Vérifiez si la clé 'fr' existe
				} catch (error) {
					console.error("Erreur lors du parsing :", error);
				}
			}
			else {
				return name1
			}
		}
		function getDesc(name1) {
			console.log("*************************************************: ", name1)
			console.log("!name1: ", !name1)

			// Vérifiez si `name` est une chaîne JSON
			if (JSON.stringify(name1).trim().startsWith('"{') && JSON.stringify(name1).trim().endsWith('}"')) {
				console.log("naaaaaaaaaaaaaaaaaaaaaaaaaaame")
				try {

					console.log("JSON.parse(data).fr: ", JSON.parse(name1).fr)
					return JSON.parse(name1).fr; // Vérifiez si la clé 'fr' existe
				} catch (error) {
					console.error("Erreur lors du parsing :", error);
				}
			}
			else {
				return ""
			}
		}
		function getAddr(name1) {
			console.log("****************************addresse*********************: ", name1)
			console.log("addresse: ", name1, JSON.stringify(name1))

			// Vérifiez si `name` est une chaîne JSON
			if (JSON.stringify(name1).trim().startsWith('"{') && JSON.stringify(name1).trim().endsWith('}"')) {
				console.log("addr")
				try {

					console.log("addresse: ", JSON.parse(name1).fr)
					return JSON.parse(name1).fr; // Vérifiez si la clé 'fr' existe
				} catch (error) {
					console.error("Erreur lors du parsing :", error);
				}
			}
			else {
				return name1
			}
		}
		var apiurl
		var requestOptions
		let status = "add"
		let object = {}
		let rdv = 0
		function ConfirmerRedezvous() {
			/// Prevent the default action (navigation)


			// Optionally, you can add a class to style it as disabled
			var link = document.getElementById('confirmRDV');
			link.classList.add('disabled');

			motifSelect = document.getElementById('motifSelect').value;
			console.log('sessionStorage.getItem("status"): ', sessionStorage.getItem("status"))
			if (sessionStorage.getItem("status"))
				status = sessionStorage.getItem("status")
			if (status == "add") {
				console.log("add")
				console.log("sessionStorage.getItem('rdv'): ", sessionStorage.getItem("rdv"))
				if (sessionStorage.getItem("rdv")) {
					rdv = sessionStorage.getItem("rdv")
				}
				if (rdv == 0) {
					apiurl = "https://wic-doctor.com:3004/ajouterrendezvous"
					object = Object.assign(object, { "motif_id": motifSelect })
					console.log("object: after modif ", object)

				}
				else {
					apiurl = "https://wic-doctor.com:3004/ajouterrendezvoustele"
					//object = Object.assign(object, { "motif_id": motifSelect })


				}

			}
			else if (status == "edit") {
				console.log("edit")
				object = Object.assign({ "end_at": object.ends_at }, { "start_at": object.start_at }, { "patern_id": motifSelect })
				console.log("decryptData(sessionStorage.getItem('id')", decryptData(sessionStorage.getItem("id")))
				apiurl = `https://wic-doctor.com:3004/updateappointement/${decryptData(sessionStorage.getItem("id"))}`
			}
			console.log('apiurl: ', apiurl)
			encryptedData = encryptData(object);

			console.log("object rendez-vous: ", object)
			if (sessionStorage.getItem('auth')) {
				const authData = sessionStorage.getItem("auth");
				const data = decryptData(authData);
				console.log("Initial login data: ", data);
				console.log("**************************************Rendez-vous Medecin")
				const RendezVous = object;
				console.log("RendezVous: ", JSON.stringify(RendezVous))
				if (status == "add") {
					requestOptions = {
						method: 'POST', // ou 'GET', 'PUT', 'DELETE' selon votre besoin
						headers: {
							'Authorization': `Bearer ${data.token}`, // Ajouter le token dans l'en-tête Authorization
							'Content-Type': 'application/json' // Type de contenu si vous envoyez des données
						},
						body: JSON.stringify(RendezVous) // Convertir l'objet en chaîne JSON
					};

				}
				else if (status == "edit") {
					requestOptions = {
						method: 'PUT', // ou 'GET', 'PUT', 'DELETE' selon votre besoin
						headers: {
							'Authorization': `Bearer ${data.token}`, // Ajouter le token dans l'en-tête Authorization
							'Content-Type': 'application/json' // Type de contenu si vous envoyez des données
						},
						body: JSON.stringify(RendezVous) // Convertir l'objet en chaîne JSON
					}
				}



				// Appeler l'API
				fetch(apiurl, requestOptions)
					.then(response => {
						return response.json(); // Analyser la réponse JSON
					})
					.then(data => {
						console.log('Réponse de l\'API :', data);
						if (data.error == "Token expiré." || data.error == "Token invalide." || data.error == "Erreur lors de la vérification du token.") {
							alert("⚠️ Votre session est expiré. Veuillez vous reconnecter pour continuer la réservation.");
							let rdv = 0
							if (sessionStorage.getItem("rdv")) {
								rdv = sessionStorage.getItem("rdv")
							}
							else {
								sessionStorage.setItem("rdv", rdv)
							}
							sessionStorage.setItem("rendezvous", encryptedData)
							Login = decryptData(sessionStorage.getItem("auth"));
							console.log("Login: ", Login)
							const requestOptions = {
								method: 'POST', // ou 'GET', 'PUT', 'DELETE' selon votre besoin
								headers: {
									'Authorization': `Bearer ${Login.token}`, // Ajouter le token dans l'en-tête Authorization
									'Content-Type': 'application/json' // Type de contenu si vous envoyez des données
								},
							};
							console.log("Login.token: ", Login.token)
							// Appeler l'API
							fetch("https://wic-doctor.com:3004/logout", requestOptions)
								.then(response => {
									if (!response.ok) {
										throw new Error('Erreur lors de l\'envoi des données');
									}
									return response.json(); // Analyser la réponse JSON
								})
								.then(data => {
									console.log('Réponse de l\'API :', data);
									sessionStorage.removeItem('auth');


									window.location.href = 'https://fr.wiccrm.com/login.html'; // Rediriger vers la page 2
								})
								.catch(error => {
									console.error('Erreur :', error);
								});
						}

						if (data.message == "Rendez-vous inséré avec succès") {
							let rdv = 0
							if (sessionStorage.getItem("rdv")) {
								rdv = sessionStorage.getItem("rdv")
							}
							if (rdv == 0) {
								document.getElementById('popup').style.display = 'block';
								document.getElementById('overlay').style.display = 'block';
								alert("🎉 Votre rendez-vous a été confirmé !\n\nVeuillez consulter votre email / Téléphone pour plus de détails.\n\nMerci de votre confiance !");
								sessionStorage.removeItem("rendezvous")
								window.location.href = 'https://fr.wiccrm.com/profil.html'; // Rediriger vers la page 2
							}
							else {
								document.getElementById('popup').style.display = 'block';
								document.getElementById('overlay').style.display = 'block';
								alert("🎉 Votre demande de téléconsultation a été envoyée !\n\nVeuillez consulter votre email / Téléphone pour plus de détails.\n\nMerci de votre confiance !");
								sessionStorage.removeItem("rendezvous")
								window.location.href = 'https://fr.wiccrm.com/profil.html'; // Rediriger vers la page 2
								sessionStorage.removeItem("rdv")
							}


						}
					})
					.catch(error => {
						console.error('Erreur :', error);
					});



			}

			else {
				let rdv = 0
				if (sessionStorage.getItem("rdv")) {
					rdv = sessionStorage.getItem("rdv")
				}
				else {
					sessionStorage.setItem("rdv", rdv)
				}
				sessionStorage.setItem("rendezvous", encryptedData)
				window.location.href = 'https://fr.wiccrm.com/register.html'; // Rediriger vers la page 2
			}

		}
		//console.log("sessionStorage.getItem('dataDetails'): ", decryptData(sessionStorage.getItem('dataDetails')))
		fetch('https://wic-doctor.com:3004/getdocbyid-france/1234')
			.then(response => {
				if (!response.ok) {
					throw new Error('Erreur lors de la récupération des catégories');
				}
				return response.json();
			})
			.then(data => {
				console.log("data details*********************************: ", data)
				Detailsdoctors = data
				//Detailsdoctors = decryptData(sessionStorage.getItem('dataDetails'));
				console.log("Detailsdoctors.name: ", JSON.stringify(Detailsdoctors))

				/*Detailsdoctors.created_at*/
				const date = new Date(Detailsdoctors.created_at);
				const year = date.getFullYear();
				const photos = Detailsdoctors.doctor_photo;

				/*accessibilite*/
				let accessibilite = ``
				accessarray = ""
				if (Detailsdoctors.accessibilité != null) {
					accessarray = Detailsdoctors.accessibilité.split(",");

					accessarray.forEach(stasitem => {
						if (stasitem == "Entrée large pour fauteuils roulants")
							accessibilite = accessibilite + `<li><i class="fas fa-wheelchair text-primary me-2"></i>Entrée large pour fauteuils roulants</li>`
						if (stasitem == "Accès direct au cabinet (sans escalier / ascenseur disponible)")
							accessibilite = accessibilite + `<li><i class="fas fa-hospital text-primary me-2"></i>Accès direct au cabinet (sans escalier / ascenseur disponible)</li>`
						if (stasitem == "Rampe d’accès pour fauteuils roulants")
							accessibilite = accessibilite + `<li><i class="fas fa-wheelchair text-primary me-2"></i>Rampe d’accès pour fauteuils roulants</li>`
						if (stasitem == "Ascenseur disponible")
							accessibilite = accessibilite + `<li><i class="fas fa-building text-primary me-2"></i>Ascenseur disponible</li>`
						if (stasitem == "Toilettes adaptées aux personnes à mobilité réduite")
							accessibilite = accessibilite + `<li><i class="fas fa-wheelchair text-primary me-2"></i>Toilettes adaptées aux personnes à mobilité réduite</li>`
					});

				}
				/*accessibilite*/

				/*stassionnement*/
				let stas = ``
				satasarray = ""
				if (Detailsdoctors.stationnement != null) {
					satasarray = Detailsdoctors.stationnement.split(",");

					satasarray.forEach(stasitem => {
						if (stasitem == "Parking gratuit")
							stas = stas + `<li><i class="fas fa-parking text-primary me-2"></i>Parking gratuit</li>`
						if (stasitem == "Parking payant à proximité")
							stas = stas + `<li><i class="fas fa-car text-primary me-2"></i>Parking payant à proximité</li>`
						if (stasitem == "Bornes de recharge pour véhicules électriques")
							stas = stas + `<li><i class="fas fa-bolt text-primary me-2"></i>Bornes de recharge pour véhicules électriques</li>`
						if (stasitem == "Parking pour motos et vélos")
							stas = stas + `<li><i class="fas fa-motorcycle text-primary me-2"></i>Parking pour motos et vélos</li>`
						if (stasitem == "Accès facile depuis la rue principale")
							stas = stas + `<li><i class="fas fa-walking text-primary me-2"></i>Accès facile depuis la rue principale</li>`
						if (stasitem == "Proche des transports en commun")
							stas = stas + `<li><i class="fas fa-subway text-primary me-2"></i>Proche des transports en commun</li>`
						if (stasitem == "Station de taxis à proximité")
							stas = stas + `<li><i class="fas fa-taxi text-primary me-2"></i>Station de taxis à proximité</li>`
					});

				}
				/*stassionnement*/

				/*Bibliographie*/
				const biblio = Detailsdoctors.bio ?
					`<p class="text-muted mb-1"><i class="fas fa-hospital text-secondary me-2"></i>${Detailsdoctors.bio}</p>`
					: `<p class="text-muted mb-1"><i class="fas fa-hospital text-secondary me-2"></i>Bibliographie non enregistrée par le médecin</p>`;
				/*Bibliographie*/
				/*Langues*/
				let langs = `<li><i class="fas fa-language text-primary me-2"></i>Langues non enregistrées par le médecin</li>`
				let languesArray = ""
				if (Detailsdoctors.langues != null) {
					langs = ""
					languesArray = Detailsdoctors.langues.split(",");
					// Génération dynamique des éléments LI
					languesArray.forEach(langue => {
						langs = langs + `<li><i class="fas fa-language text-primary me-2"></i>${langue}</li>`
					});
				}
				/*Langues*/
				/*Type Consultation*/
				let typecons = ` <li>
                    <i class="fas fa-video text-primary me-2"></i>
                  Type de consultation non enregistré par le médecin
                </li>`
				let typeconsArray = ""
				if (Detailsdoctors.type_consultation != null) {
					typecons = ""
					typeconsArray = Detailsdoctors.type_consultation.split(",");
					// Génération dynamique des éléments LI
					typeconsArray.forEach(type => {
						console.log("type: ", type)
						if (type == "cabinet")
							typecons = typecons + `  <li >
                    <i class="fas fa-file-alt text-primary me-2"></i>
                     Au cabinet
                </li>`
						if (type == "domicile")
							typecons = typecons + ` <li >
                    <i class="fas fa-home text-primary me-2"></i>
                     A domicile
                </li>`
						if (type == "téléconsultation")
							typecons = typecons + `  <li >
                    <i class="fas fa-video text-primary me-2"></i>
                     Téléconsultation
                </li>`
						if (type == "urgence")
							typecons = typecons + `  <li >
                    <i class="fas fa-exclamation-triangle text-primary me-2"></i>
                     Urgence
                </li>`
					});
				}
				console.log("typecons******************************************: ", typecons)
				/*Type Consultation*/
				/*Diplomes*/
				let Dipliomes = `<p class="text-muted mb-1"><i class="fas fa-graduation-cap text-primary me-2"></i>Diplôme non enregistré par le médecin</p>`

				if (Detailsdoctors.name_diplome != null) {
					Dipliomes = ""
					Detailsdoctors.name_diplome.forEach(dip => {
						Dipliomes = Dipliomes + `<p class="text-muted mb-1"><i class="fas fa-graduation-cap text-primary me-2"></i>${dip.name}</p>`
					})
				}
				/*Diplomes*/

				/*Description specialitie*/
				console.log("Detailsdoctors.specialities.description: ", Detailsdoctors.specialities[0].description)
				let descspec
				if(JSON.parse(Detailsdoctors.specialities[0].description) != null)
				descspec = `<p class="text-muted mt-2"><i class="fas fa-user-md text-primary me-2"></i>${JSON.parse(Detailsdoctors.specialities[0].description).fr}</p>`
			if(JSON.parse(Detailsdoctors.specialities[0].description) == null)
				descspec = `<p class="text-muted mt-2"><i class="fas fa-user-md text-primary me-2"></i>Description de la spécialité non enregistrer par le médecin</p>`
				if (Detailsdoctors.description_spe_by_doctor != null) {
					descspec = ""
					descspec = `<p class="text-muted mt-2"><i class="fas fa-user-md text-primary me-2"></i>${Detailsdoctors.description_spe_by_doctor}</p>`
				}
				/*Description specialitie*/
				/*Tags*/
				let tags = `<p class="text-muted mt-2">Expertises et actes non enregistrés par le médecin</p>`
				if (Detailsdoctors.tags.length != 0) {
					tags = ""
					let maxTags = 8;

					Detailsdoctors.tags.forEach((tag, index) => {
						let tagElement = `<span class="badge bg-primary text-white rounded-pill px-3 py-2" style="${index >= maxTags ? 'display: none;' : ''}">${JSON.parse(tag.name).fr}</span>`;
						tags += tagElement;
					});

					// Ajoute les boutons "Voir plus" et "Voir moins"
					if (Detailsdoctors.tags.length > maxTags) {
						tags += `
        <button id="showMoreTags" class="btn btn-link p-0 badge bg-secondary text-white rounded-pill px-3 py-2" >...Voir plus</button>
        <button id="showLessTags" class="btn btn-link p-0 badge bg-secondary text-white rounded-pill px-3 py-2" style="display: none;">Voir moins</button>
    `;
					}



				}






				/*Tags*/
				/*Type Paiement*/
				let typepay = `<p class="text-muted">Type de paiement non enregistré par le médecin</p>`
				if (Detailsdoctors.payment_methodes != null) {

					typepay = `<p class="text-muted">${Detailsdoctors.payment_methodes}</p>`

				}
				console.log("typepay******************************************: ", typepay)
				/*Type Paiement*/
				/*Images cabinet*/
				let textImg = ``
				let Images = []
				/* if (getDoctorName(Detailsdoctors.name) == "Abdellali Saied")
					Images = ['photot1.jpeg', 'photot2.jpeg',
						'photot3.jpeg', 'photot4.jpeg',
						'photot5.jpeg', 'photot6.jpeg', 'photot7.jpeg',
						'photot8.jpeg']
				if (getDoctorName(Detailsdoctors.name) == "Chemli hejer")
					Images = ['hejer-chemli.jpeg'] */
				if (Detailsdoctors.cabinet_photos != [])
					Images = Detailsdoctors.cabinet_photos
				if (Images == [])
					textImg = `<p class="text-muted">Images non enregistré par le médecin</p>`
				/*Images cabinet*/

				let facebook = "#"
				let classfb = "disabled";
				//document.querySelector(".btn-facebook").classList.add("disabled");
				if (Detailsdoctors.facebook != null) {
					classfb = ""
					facebook = Detailsdoctors.facebook
				}
				let classinst = "disabled";
				let instagram = "#"
				//document.querySelector(".btn-instagram").classList.add("disabled");
				if (Detailsdoctors.instagram != null) {
					classinst = ""
					instagram = Detailsdoctors.instagram
				}

				let siteWeb = "#"
				let classweb = "disabled";
				if (Detailsdoctors.siteweb != null) {
					classweb = ""
					siteWeb = Detailsdoctors.siteweb
				}
				let email = ""
				if (Detailsdoctors.email != null)
					email = `<p><b style="color: #7386ac;">Email: </b>  ${Detailsdoctors.email} </p>`
				let fixe = ""
				if (Detailsdoctors.fixe != null)
					fixe = ` <p><b style="color: #7386ac;">Fixe: </b>  ${Detailsdoctors.fixe} </p>`
				let what = ""
				if (Detailsdoctors.phone_number != null)
					what = ` <p><b style="color: #7386ac;">Whatsapp: </b>  ${Detailsdoctors.phone_number} </p>`
				document.getElementById("DoctorsDetails").innerHTML = document.getElementById("DoctorsDetails").innerHTML +
					`<a style="font-family: 'Arial', sans-serif; font-size: 1rem; color: #fff; background: linear-gradient(135deg, #83D1C3 0%, #18167A 100%); padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); text-transform: uppercase;" type="button" class="btn btn-primary d-lg-none w-100 mt-3"  href="#rdvsection">
    Prendre un rendez-vous
</a>
				<div class="row rowrdv" style=" overflow-y: auto;">
 <div class="col-lg-8">
    <div class="card shadow-lg border-0 rounded-4 overflow-hidden">
        <div class="card-body item-user p-4">
            <div class="d-flex align-items-center">
                <img src="${photos}" class="rounded-circle shadow-sm"
                    width="120" height="120" alt="Dr. ${getDoctorName(Detailsdoctors.name)}">
                <div class="ms-4">
                    <h4 class="text-primary fw-bold" style="text-transform: capitalize;">Dr. ${getDoctorName(Detailsdoctors.name)}
                        <i class="ion-checkmark-circled text-success fs-6 ms-1"></i>
                    </h4>
                    <p class="badge bg-primary text-white py-2 px-3 rounded-pill">
                        ${getDoctorSpec(Detailsdoctors.specialities)}</p>
                   ${Dipliomes}
                    ${biblio}
                   
                </div>
            </div>
        </div>
		<div class="card-footer bg-light d-flex flex-column flex-md-row align-items-center gap-md-3">
    <a href="mailto:${Detailsdoctors.email}" class="btn btn-outline-primary rounded-pill d-block w-100 w-md-auto my-2 my-md-0">
        <i class="fas fa-envelope me-2"></i>Email
    </a>
    <a href="tel:${Detailsdoctors.fixe}" class="btn btn-outline-success rounded-pill d-block w-100 w-md-auto my-2 my-md-0">
        <i class="fas fa-phone fa-flip-horizontal me-2"></i>Appel
    </a>
    <a href="https://www.google.com/maps?q=${getAddr(Detailsdoctors.address)}" class="btn btn-outline-danger rounded-pill d-block w-100 w-md-auto my-2 my-md-0">
        <i class="fas fa-map-marker-alt me-2"></i>Itinéraire
    </a>
    <a href="https://wa.me/${Detailsdoctors.phone_number}" class="btn btn-outline-success rounded-pill d-block w-100 w-md-auto my-2 my-md-0">
        <i class="fab fa-whatsapp me-2"></i>WhatsApp
    </a>
</div>


    </div>
<style>
    .social-buttons {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 15px;
    }
    .social-buttons a {
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 18px;
        font-weight: 600;
        padding: 4px 7px;
        border-radius: 50px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        min-width: 180px;
    }
    .social-buttons i {
        font-size: 22px;
        margin-right: 10px;
    }
    /* Effets de survol */
    .social-buttons a:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }
    /* Couleurs personnalisées */
    .btn-facebook { background: #1877F2; color: white; }
    .btn-facebook:hover { background: #0e5db8; }
    
    .btn-instagram {
        background: linear-gradient(45deg, #F58529, #DD2A7B, #8134AF);
        color: white;
    }
    .btn-instagram:hover { opacity: 0.8; }
    
    .btn-website { background: #343a40; color: white; }
    .btn-website:hover { background: #23272b; }
	.disabled {
    pointer-events: none;
    opacity: 0.5;
    cursor: default;
}
	.photo-album img {
    width: 100%; /* Prend toute la largeur du conteneur */
    height: 200px; /* Hauteur fixe pour toutes les images */
    object-fit: cover; /* Recadre l'image pour remplir l'espace */
    border-radius: 8px; /* Coins arrondis */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}
</style>

<div class="social-buttons">
    <a href="${facebook}" target="_blank" class="btn-facebook ${classfb}" id="fb">
        <i class="fab fa-facebook"></i>Facebook
    </a>
    <a href="${instagram}" target="_blank" class="btn-instagram ${classinst}" id="insta">
        <i class="fab fa-instagram"></i>Instagram
    </a>
    <a href="${siteWeb}" target="_blank" class="btn-website ${classweb}" id="website">
        <i class="fas fa-globe"></i>Site Web
    </a>
</div>

    <div class="card shadow-lg mt-3 border-0 rounded-4">
        <div class="card-body p-4">
            <h5 class="text-dark fw-bold mt-4 mb-3">Description</h5>
            <p class="text-muted" style="text-transform: capitalize;"><b>Dr. ${getDoctorName(Detailsdoctors.name)}</b> <br>
				 ${getDesc(Detailsdoctors.description)}</p>
        </div>
    </div>
    <div class="card shadow-lg mt-3 border-0 rounded-4">
        <div class="card-body p-4">
            <h5 class="text-dark fw-bold mb-3">Spécialités</h5>
           ${descspec}
            <h5 class="text-dark fw-bold mt-4 mb-3"><i class="fas fa-user-md text-primary me-2"></i>Expertises et actes
            </h5>
            <div class="d-flex flex-wrap gap-3">
				${tags}
              <!--  <span class="badge bg-primary text-white rounded-pill px-3 py-2">Allergie alimentaire</span>
                <span class="badge bg-primary text-white rounded-pill px-3 py-2">Allergie aux venins</span>
                <span class="badge bg-primary text-white rounded-pill px-3 py-2">Immuno-allergologie</span>
                <span class="badge bg-primary text-white rounded-pill px-3 py-2">Pneumo-allergologie</span>
                <span class="badge bg-primary text-white rounded-pill px-3 py-2">Urticaire</span>
                <span class="badge bg-primary text-white rounded-pill px-3 py-2">Épreuves fonctionnelles respiratoires
                    (EFR)</span> -->
            </div>

        </div>
    </div>
	    <div class="card shadow-lg mt-3 border-0 rounded-4">
        <div class="card-body p-4">
            <h5 class="text-dark fw-bold mb-3">Coordonnées</h5>
           
            ${email}
			${fixe}
			${what}
             
 
        </div>
    </div>
    <div class="card shadow-lg mt-3 border-0 rounded-4">
        <div class="card-body p-4">
            <h5 class="text-dark fw-bold mt-4 mb-3">Langues parlées</h5>
            <ul class="text-muted">
               ${langs}
            </ul>
            <h5 class="text-dark fw-bold mt-4 mb-3"style="text-transform: capitalize;">Dr ${getDoctorName(Detailsdoctors.name)} vous propose:</h5>
            <ul class="text-muted">
                ${typecons}
            </ul>

            <!--<h5 class="text-dark fw-bold mt-4 mb-3"><i class="fas fa-euro-sign text-primary me-2"></i>Tarifs et remboursement</h5>
            <p class="text-muted mb-0">Conventionné secteur 2 avec OPTAM</p>
            <p class="text-muted mb-0">Carte Vitale acceptée</p>
            <a href="#" class="text-primary fw-bold">Voir les tarifs</a> -->

            <h5 class="text-dark fw-bold mt-4 mb-3"><i class="fas fa-credit-card text-primary me-2"></i>Moyens de
                paiement</h5>
            ${typepay}
        </div>
    </div>
    <div class="card shadow-lg mt-3 border-0 rounded-4">
        <div class="card-body p-4">

            <h5 class="text-dark fw-bold mt-4 mb-3"><i class="fas fa-map-marker-alt text-primary me-2"></i>Carte et
                informations d'accès</h5>
            <p class="text-muted mb-0" style="text-transform: capitalize;">${getAddr(Detailsdoctors.address)}</p>
            <ul class="list-unstyled text-muted">
               ${stas}
			   ${accessibilite}
            </ul>
        </div>
    </div>
   
   <div class="card shadow-lg mt-3 border-0 rounded-4">
    <div class="card-body p-4">
        <div class="photo-album mt-4">
            <h5 class="text-dark fw-bold mb-3">Galerie</h5>
            <div class="row g-2" id="gallery">
                ${Images.slice(0, 6).map((img, index) => `
                    <div class="col-md-4">
                        <img src="${img}" class="img-fluid rounded shadow-sm"
                            alt="Photo" onclick="openLightbox(${index})" style="transition: transform 0.3s ease-in-out;">
                    </div>
                `).join('')}
            </div>
            ${Images.length > 6 ? `
                <div class="text-center mt-3">
                    <button class="btn btn-primary" id="showMoreBtn">Voir plus</button>
                </div>
            ` : ''}
        </div>
    </div>
</div>
<!-- Lightbox -->
<div style="display: none;" id="lightbox" class="lightbox">
    <span class="close" onclick="closeLightbox()">&times;</span>
    <img id="lightboxImg" class="lightbox-content">
    <a class="prev" style="color:#fff;left: 10%;" onclick="changeImage(-1)">&#10094;</a>
    <a class="next" style="color:#fff;right: 10%;" onclick="changeImage(1)">&#10095;</a>
</div>

<style>
    .lightbox {
        display: none;
        position: fixed;
        z-index: 1050;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .lightbox-content {
        max-width: 90%;
        max-height: 90%;
        border-radius: 8px;
    }
    
    .close {
        position: absolute;
        top: 20px;
        right: 40px;
        font-size: 40px;
        color: white;
        cursor: pointer;
    }
    
    .prev, .next {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 30px;
        color: white;
        cursor: pointer;
        padding: 10px;
		
    }
    
    .prev {
        
    }
    
    .next {
        
    }
</style>
    <!--<div class="card shadow-lg mt-3 border-0 rounded-4">
        <div class="card-body p-4">
          
            <div class="videos mt-4">
                <h5 class="text-dark fw-bold mb-3">Vidéos</h5>
                <div class="row g-2">
                    ${[
						'fake-video1.mp4',
						'fake-video2.mp4',
						'fake-video3.mp4'
					].map(video => `
                    <div class="col-md-4">
                        <video controls class="img-fluid rounded shadow-sm"
                            style="transition: transform 0.3s ease-in-out;">
                            <source src="./../../../../../../assets/videos/${video}" type="video/mp4">
                            Votre navigateur ne supporte pas la vidéo.
                        </video>
                    </div>
                    `).join('')}
                </div>
            </div>
        </div>
    </div>-->
  <!--   <div class="card shadow-lg mt-3 border-0 rounded-4">
        <div class="card-body p-4">
          
            <div class="articles mt-4">
                <h5 class="text-dark fw-bold mb-3">Articles</h5>
                <div class="row g-2">
                    ${[
						{ img: 'fake-article1.jpg', description: 'Description for article 1', link: 'fake-article1.pdf' },
						{ img: 'fake-article2.jpg', description: 'Description for article 2', link: 'fake-article2.pdf' },
						{ img: 'fake-article3.jpg', description: 'Description for article 3', link: 'fake-article3.pdf' }
					].map(article => `
                    <div class="col-md-4">
                        <div class="card shadow-sm border-0 rounded-4" style="transition: transform 0.3s ease-in-out;">
                            <img src="./../../../../../../assets/images/articles/${article.img}"
                                class="card-img-top rounded-4" alt="Article Image">
                            <div class="card-body">
                                <p class="card-text text-muted">${article.description}</p>
                                <a href="./../../../../../../assets/articles/${article.link}"
                                    class="btn btn-outline-primary rounded-pill" target="_blank">
                                    <i class="fas fa-file-pdf me-2"></i>Lire l'article
                                </a>
                            </div>
                        </div>
                    </div>
                    `).join('')}
                </div>
            </div>
        </div>
    </div> -->
</div>
    <style>
        .card-rdv {
            overflow: auto;
            /* Permet le scroll à l'intérieur */
            border: 1px solid #ccc;
            /* Pour voir les limites */
            padding: 10px;
            z-index: 100;
			max-height: 630px;
        }
    </style>
    <!-- Colonne droite contenant la prise de rendez-vous -->
    <div class="col-lg-4" id="rdvsection">
        <div class="card fixed-card card-rdv">
            <div class="card-body">
                <div class="container mt-5">
                    <h2 class="text-center mb-4"
                        style="font-family: 'Arial', sans-serif; font-size: 1.5rem; color: #fff; background: linear-gradient(135deg, #83D1C3 0%, #18167A 100%); padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); text-transform: uppercase;">
                        Prise de Rendez-vous
                    </h2>
                    <div class="row mb-3">
                        <div class="col-1 nav-button">
                            <button class="btn" id="previousDays">❮</button> <!-- Left arrow -->
                        </div>
                        <div class="col-10">
                            <table class="table">
                                <thead>
                                    <tr id="days-header">
                                        <!-- Les jours de la semaine seront générés ici via JavaScript -->
                                    </tr>
                                </thead>
                                <tbody id="time-slots-container">
                                    <!-- Les créneaux horaires seront affichés ici -->
                                </tbody>
                            </table>
                        </div>
                        <div class="col-1 nav-button">
                            <button class="btn" id="nextDays">❯</button> <!-- Right arrow -->
                        </div>
						<button id="voirPlus" class="btn btn-primary mt-2" style="display: none;">Voir plus</button>

                        <!-- Champ de sélection des motifs -->
                        <div id="motifSelection" class="mt-3" style="display: none;">
                            <label for="motifSelect">Choisissez la raison de votre visite :</label>
                            <select class="form-control" id="motifSelect"></select>
                        </div>
                    </div>
                </div>

                <!-- Modal Structure -->
                <div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog"
                    aria-labelledby="confirmationModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="confirmationModalLabel">Confirmation de Réservation</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                Êtes-vous sûr de vouloir réserver ce créneau ?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                                <button type="button" class="btn btn-danger" id="confirmBooking">Confirmer</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card-footer">
                <div class="btn-list">
                    <a id="confirmRDV" class="btn btn-success icons btn-load" onclick="ConfirmerRedezvous()">
                        <i class="icon icon-note me-1 book-visit"></i> Confirmer
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>


		`
  // Ajouter le script après l'insertion du HTML
  let script = document.createElement("script");
        script.innerHTML = `
            let currentIndex = 0;
            const images = ${JSON.stringify(Images)};
             console.log("images: ",images)
            function openLightbox(index) {
                currentIndex = index;
                document.getElementById("lightboxImg").src = images[currentIndex];
                document.getElementById("lightbox").style.display = "flex";
				 // Ajoute l'écouteur pour les flèches du clavier
    document.addEventListener("keydown", keyboardNavigation);
            }

            function closeLightbox() {
                document.getElementById("lightbox").style.display = "none";
				    document.removeEventListener("keydown", keyboardNavigation);

            }
// Fonction pour naviguer avec le clavier
function keyboardNavigation(e) {
    if (e.key === "ArrowRight") {
        changeImage(1); // Flèche droite pour aller à l'image suivante
    }
    if (e.key === "ArrowLeft") {
        changeImage(-1); // Flèche gauche pour revenir en arrière
    }
    if (e.key === "Escape") {
        closeLightbox(); // Échappe pour fermer la galerie
    }
}
            function changeImage(step) {
                currentIndex += step;
                if (currentIndex < 0) {
                    currentIndex = images.length - 1;
                } else if (currentIndex >= images.length) {
                    currentIndex = 0;
                }
                document.getElementById("lightboxImg").src = images[currentIndex];
            }
        `;
		document.body.appendChild(script);
				const allImages = Images;
				console.log("allImages: ", allImages)
				const gallery = document.getElementById("gallery");
				const showMoreBtn = document.getElementById("showMoreBtn");

				if (showMoreBtn) {
					let imagesShown = 6;

					showMoreBtn.addEventListener("click", function () {
						if (imagesShown === 6) {
							// Afficher toutes les images
							const extraImages = allImages.slice(6).map((img, index) => `
                        <div class="col-md-4">
                            <img src="${img}" class="img-fluid rounded shadow-sm"
                                alt="Photo" onclick="openLightbox(${index + 6})" style="transition: transform 0.3s ease-in-out;">
                        </div>
                    `).join('');

							gallery.innerHTML += extraImages;
							showMoreBtn.textContent = "Voir moins";
							imagesShown = allImages.length;
						} else {
							// Revenir aux 6 premières images
							gallery.innerHTML = allImages.slice(0, 6).map((img, index) => `
                        <div class="col-md-4">
                            <img src="${img}" class="img-fluid rounded shadow-sm"
                                alt="Photo" onclick="openLightbox(${index})" style="transition: transform 0.3s ease-in-out;">
                        </div>
                    `).join('');
							showMoreBtn.textContent = "Voir plus";
							imagesShown = 6;
						}
					});
				}
				
				// Sélection des boutons après l'ajout au DOM
const showMoretagBtn = document.getElementById('showMoreTags');
const showLessBtn = document.getElementById('showLessTags');
const moreTags = document.querySelectorAll('.badge[style*="display: none"]');

// Gestion des événements
showMoretagBtn?.addEventListener('click', function () {
    moreTags.forEach(tag => tag.style.display = 'inline-block'); // Afficher les tags cachés
    showMoretagBtn.style.display = 'none'; // Cacher "Voir plus"
    showLessBtn.style.display = 'inline-block'; // Afficher "Voir moins"
});

showLessBtn?.addEventListener('click', function () {
    moreTags.forEach(tag => tag.style.display = 'none'); // Masquer les tags supplémentaires
    showLessBtn.style.display = 'none'; // Cacher "Voir moins"
    showMoretagBtn.style.display = 'inline-block'; // Réafficher "Voir plus"
});
				window.addEventListener("scroll", () => {
					// Check if the screen width is larger than a mobile threshold (e.g., 768px)
					if (window.innerWidth <= 768) {
						return; // If it's a mobile device, exit the function early
					}
					let scrollY = window.scrollY;
					let card = document.querySelector(".card-rdv");
					let rowRdv = document.querySelector(".rowrdv");

					if (!card || !rowRdv) return;

					let rowTop = rowRdv.offsetTop - 200; // Position du haut du conteneur
					let rowHeight = rowRdv.offsetHeight; // Hauteur du conteneur
					let cardHeight = card.offsetHeight; // Hauteur de la carte

					let minTop = rowTop; // La carte commence ici
					let maxTop = rowTop + rowHeight - cardHeight; // Limite inférieure

					// Calcul de la nouvelle position de la carte
					let newTop = minTop + (scrollY - rowTop) * 0.9; // Ajuste la vitesse

					// Bloquer la carte si elle dépasse les limites
					if (newTop < minTop) newTop = minTop;
					if (newTop > maxTop) newTop = maxTop;

					card.style.position = "absolute";
					card.style.top = `${newTop}px`;
				});


				//document.body.appendChild(script);
				//${Detailsdoctors.doctor_id}
				console.log("Detailsdoctors.specialities[0].id ", Detailsdoctors.specialities[0])
				fetch(`https://wic-doctor.com:3004/getmotif?specialite_id=${Detailsdoctors.specialities[0].id}&doctor_id=${Detailsdoctors.doctor_id}`)
					.then(response => {
						if (!response.ok) {
							throw new Error('Erreur lors de la récupération des catégories');
						}
						return response.json();
					})
					.then(data => {
						const select = document.getElementById('motifSelect');
						const optgroup = document.createElement('optgroup');
						optgroup.label = "";
						const defaultOption = document.createElement('option');
						defaultOption.value = '';
						defaultOption.textContent = 'Veuillez sélectionner une option...';
						defaultOption.disabled = true; // Désactive l'option pour ne pas la rendre sélectionnable
						defaultOption.selected = true; // Rend cette option sélectionnée par défaut
						optgroup.appendChild(defaultOption);
						data.forEach(item => {
							// Créer un <optgroup> pour chaque catégorie

							// Créer un <option> pour chaque élément de la catégorie

							console.log("item: ", item)
							const option = document.createElement('option');

							option.value = item.id;
							option.textContent = JSON.parse(item.nom).fr;
							optgroup.appendChild(option);
						});

						// Ajouter l'<optgroup> au <select>
						select.appendChild(optgroup);
					});

				let currentWeekStart = new Date();
				let selectedSlot = '';
				let slotsData = [];
				let config
				// Function to decrypt session storage data
				function decryptData(cipherText) {
					const bytes = CryptoJS.AES.decrypt(cipherText, secretKey);
					return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));
				}
				function encryptData(data) {
					return CryptoJS.AES.encrypt(JSON.stringify(data), secretKey).toString();
				}
				//Detailsdoctors = decryptData(sessionStorage.getItem('dataDetails'));
				let rdv = 0
				if (sessionStorage.getItem("rdv")) {
					rdv = sessionStorage.getItem("rdv")
				}
				if (rdv == 0) {
					console.log("rendez-vous")
					// Fetching slots data for the doctor
					fetch(`https://wic-doctor.com:3004/afftempsdoctorsbyid?doctor_id=${Detailsdoctors.doctor_id}`)
						.then(response => {
							if (!response.ok) {
								throw new Error('Erreur lors de la récupération des créneaux');
							}
							return response.json();
						})
						.then(data => {
							console.log("availability: ", JSON.stringify(data))
							config = data

							// Generate slots
							slotsData = generateTimeSlots(config, new Date());
							console.log(slotsData);
							console.log("slotsData: ", JSON.stringify(slotsData))
							initializeWeek();
							initTable()
						});
				}
				else {
					console.log("téléonsultation")

					fetch(`https://wic-doctor.com:3004/gettempsteleconsultation?doctor_id=${Detailsdoctors.doctor_id}`)
						.then(response => {
							if (!response.ok) {
								throw new Error('Erreur lors de la récupération des créneaux');
							}
							return response.json();
						})
						.then(data => {
							console.log("availabilitytélé: ", JSON.stringify(data))
							config = data

							// Generate slots
							slotsData = generateTimeSlots(config, new Date());
							console.log(slotsData);
							console.log("slotsDatatélé: ", JSON.stringify(slotsData))
							initializeWeek();
							initTable()
						});
				}

				/* // Fetching slots data for the doctor
				fetch(`https://wic-doctor.com:3004/afftempsdoctorsbyid?doctor_id=${Detailsdoctors.doctor_id}`)
					.then(response => {
						if (!response.ok) {
							throw new Error('Erreur lors de la récupération des créneaux');
						}
						return response.json();
					})
					.then(data => {
						console.log("availability: ", data)
						slotsData = data;
						initializeWeek();
					}); */
				const container = document.getElementById("time-slots-container");

				// Création des boutons
				const voirPlusBtn = document.createElement("button");
				voirPlusBtn.textContent = "Voir plus";
				voirPlusBtn.classList.add("btn", "btn-primary", "mt-2");

				const voirMoinsBtn = document.createElement("button");
				voirMoinsBtn.textContent = "Voir moins";
				voirMoinsBtn.classList.add("btn", "btn-secondary", "mt-2");
				voirMoinsBtn.style.display = "none"; // Caché au départ

				container.parentNode.appendChild(voirPlusBtn);
				container.parentNode.appendChild(voirMoinsBtn);

				function afficherTousLesSlots() {
					const rows = container.querySelectorAll("tr");
					rows.forEach(row => row.style.display = "table-row"); // Afficher tout
					voirPlusBtn.style.display = "none"; // Cacher "Voir plus"
					voirMoinsBtn.style.display = "block"; // Afficher "Voir moins"
				}

				function cacherSlots() {
					const rows = container.querySelectorAll("tr");
					rows.forEach((row, index) => {
						row.style.display = index < 4 ? "table-row" : "none"; // Garde les 4 premiers
					});
					voirPlusBtn.style.display = "block"; // Réafficher "Voir plus"
					voirMoinsBtn.style.display = "none"; // Cacher "Voir moins"
				}

				function initTable() {
					cacherSlots(); // Au chargement, on cache les créneaux en trop
				}
				
				voirPlusBtn.addEventListener("click", afficherTousLesSlots);
				voirMoinsBtn.addEventListener("click", cacherSlots);
				function initializeWeek() {
					const today = new Date();
					const dayOfWeek = today.getDay() || 7; // Adjust to make Sunday 7 instead of 0
					// Calculez le début de la semaine (en supposant que la semaine commence le Lundi)
					const currentWeekStart = new Date(today);
					currentWeekStart.setDate(today.getDate() - dayOfWeek + 1);
					updateWeek();
				}
				var encryptedData

				function updateWeek() {
					const daysHeader = document.getElementById('days-header');
					const timeSlotsContainer = document.getElementById('time-slots-container');
					daysHeader.innerHTML = '';
					timeSlotsContainer.innerHTML = '';

					const days = [];
					// Generate 3 days starting from the current week start
					for (let i = 0; i < 3; i++) {
						const date = new Date(currentWeekStart);
						date.setDate(currentWeekStart.getDate() + i);
						const dayName = date.toLocaleDateString('fr-FR', { weekday: 'long' }).toLowerCase();
						const dayDate = date.getDate();
						const month = date.toLocaleDateString('fr-FR', { month: 'long' }).toUpperCase();

						days.push({ date, dayName });

						// Add a header for each day with line break
						const th = document.createElement('th');
						th.classList.add('day-header');
						th.innerHTML = `${dayName}<br><span class="date-month">${dayDate} ${month}</span>`;
						daysHeader.appendChild(th);
					}

					// Iterate through time slots based on available data
					console.log("slotsData***************************************: ", slotsData)
					const uniqueSlotsTimes = getUniqueSlotTimes(slotsData);
					console.log("uniqueSlotsTimes: ", JSON.stringify(uniqueSlotsTimes))
					uniqueSlotsTimes.forEach(time => {
						const tr = document.createElement('tr');

						days.forEach(day => {
							console.log("daaaaaaaaaaaaaaaaaay: ", day)
							const td = document.createElement('td');

							// Find if there's a slot at this time for this day
							const slot = slotsData.find(slot => {
								const slotDate = new Date(slot.start_at);
								const slotTime = new Date(slot.start_at).toLocaleTimeString('fr-FR', {
									hour: '2-digit',
									minute: '2-digit',


								});
								return (
									slotDate.getUTCDate() === day.date.getUTCDate() &&
									slotDate.getUTCMonth() === day.date.getUTCMonth() &&
									slotDate.getUTCFullYear() === day.date.getUTCFullYear() &&
									slotTime === time
								);
							});
							console.log("sloot for this day: ", slot)
							const button = document.createElement('button');
							button.classList.add('btn');

							if (slot) {
								const now = new Date(); // Date et heure actuelles
								console.log("new Date(slot.start_at) < now: ", slot.start_at, new Date(slot.start_at) < now)
								if (new Date(slot.start_at) < now) {
									// If no appointment, display 'Aucun créneau'
									button.classList.add('indsponible');
									button.textContent = '--';
									button.disabled = true;
								}
								else {
									// If there's an available slot, show the time range
									const startTime = new Date(slot.start_at).toLocaleTimeString('fr-FR', {
										hour: '2-digit',
										minute: '2-digit',


									});
									const endTime = new Date(slot.end_at).toLocaleTimeString('fr-FR', {
										hour: '2-digit',
										minute: '2-digit',


									});
									console.log("startTime: ", startTime, "endTime", endTime)
									button.classList.add('disponible');
									//button.textContent = `${startTime} - ${endTime}`;
									button.textContent = `${startTime}`;
									button.onclick = () => {
										// Supprimer la classe 'selected-slot' des autres boutons
										document.querySelectorAll('.btn.disponible').forEach(btn => {
											btn.classList.remove('selected-slot');
										});

										// Ajouter la classe au bouton actuellement cliqué
										button.classList.add('selected-slot');
										let rdv = 0
										if (sessionStorage.getItem("rdv")) {
											rdv = sessionStorage.getItem("rdv")
										}
										if (rdv == 0) {
											document.getElementById("motifSelection").style.display = ""
										}

										selectedSlotStart = `${day.dayName} ${day.date.getDate()}/${day.date.getMonth() + 1} à ${startTime}`;
										selectedSlotEnd = `${day.dayName} ${day.date.getDate()}/${day.date.getMonth() + 1} à ${endTime}`;

										const inputString = "mardi 15/10 à 10:00-11:00";

										// Define the year
										const currentDate = new Date();
										const year = currentDate.getFullYear();

										// Parse the input string
										const [dayMonth, time] = selectedSlotStart.split(" à "); // Split by " à "
										const [jour, month] = dayMonth.split(" ")[1].split("/"); // Get the day and month

										// Format the output
										const formattedDateStart = `${year}-${month.padStart(2, '0')}-${jour.padStart(2, '0')} ${time}`;

										// Log the formatted date
										console.log(formattedDateStart); // Output: "2024-10-15 10:00"


										// Parse the input string
										const [dayMonth2, time2] = selectedSlotEnd.split(" à "); // Split by " à "
										const [jour2, month2] = dayMonth2.split(" ")[1].split("/"); // Get the day and month

										// Format the output
										const formattedDateEnd = `${year}-${month2.padStart(2, '0')}-${jour2.padStart(2, '0')} ${time2}`;

										// Log the formatted date
										console.log(formattedDateEnd); // Output: "2024-10-15 10:00"

										object = Object.assign({ "appointment_at": formattedDateStart }, { "ends_at": formattedDateEnd }, { "start_at": formattedDateStart },
											{ "doctor_id": Detailsdoctors.doctor_id }, { "clinic": "" }, { "doctor": JSON.parse(Detailsdoctors.name).fr }, { "address": "" })
										console.log("object rendez-vous: ", object)

									};
								}
							} else {
								// If no appointment, display 'Aucun créneau'
								button.classList.add('indsponible');
								button.textContent = '--';
								button.disabled = true;
							}

							td.appendChild(button);
							tr.appendChild(td);
						});

						timeSlotsContainer.appendChild(tr);
					});
				}

				// Function to extract unique time slots from available data
				function getUniqueSlotTimes(slotsData) {
					console.log("slotsData: ", slotsData)
					const times = slotsData.map(slot =>
						new Date(slot.start_at).toLocaleTimeString('fr-FR', {
							hour: '2-digit',
							minute: '2-digit',

						})
					);
					console.log("times: ", times)
					return [...new Set(times)].sort(); // Sort to display times in order
				}

				function navigateDays(direction) {
					// Increment or decrement by 3 days
					currentWeekStart.setDate(currentWeekStart.getDate() + direction * 3);
					slotsData = generateTimeSlots(config, new Date(currentWeekStart))
					updateWeek();
				}

				// Add event listeners for buttons to navigate between days
				document.getElementById('nextDays').addEventListener('click', () => navigateDays(1));
				document.getElementById('previousDays').addEventListener('click', () => navigateDays(-1));

				// Logic for confirming booking
				/* document.getElementById('confirmBooking').addEventListener('click', () => {
					//alert(`Réservé: ${selectedSlot}`);
					console.log("selectedSlot: ", selectedSlot)
					$('#confirmationModal').modal('hide');
				}); */

				// Fonction pour fermer la pop-up
				function fermerPopup() {
					document.getElementById('popup').style.display = 'none';
					document.getElementById('overlay').style.display = 'none';
				}
				initializeWeek();


				function generateTimeSlots(config, date) {
					const slots = [];
					const startDate = date; // Today's date

					// Parse the config
					const daysConfig = config.days.reduce((acc, day) => {
						acc[day.day] = {
							start: day.start_at,
							end: day.end_at,
						};
						return acc;
					}, {});

					const { pauses, duree, holidays, urgence, indisponibles } = config;

					// Parse holidays into ranges
					//console.log("holidays: ", holidays, holidays[0].holiday_from.split(' ')[0])
					let holidayRanges
					if (holidays != null) {
						holidayRanges = holidays.map(holiday => {
							// Extract and reformat the date strings (DD/MM/YYYY -> YYYY-MM-DD)
							const fromDateStr = holiday.holiday_from.split(' ')[0]; // Example: '28/12/2024'
							const toDateStr = holiday.holiday_to.split(' ')[0]; // Example: '29/12/2024'

							// Split the date (DD/MM/YYYY)
							const [dayFrom, monthFrom, yearFrom] = fromDateStr.split('/');
							const [dayTo, monthTo, yearTo] = toDateStr.split('/');

							// Reformat as YYYY-MM-DD
							const reformattedFromDate = `${yearFrom}-${monthFrom}-${dayFrom}`;
							const reformattedToDate = `${yearTo}-${monthTo}-${dayTo}`;

							// Create Date objects
							const fromDate = new Date(reformattedFromDate);
							const toDate = new Date(reformattedToDate);

							// Log for debugging
							console.log("Parsed Dates:", { reformattedFromDate, reformattedToDate, fromDate, toDate });

							return { from: fromDate, to: toDate };
						});
						console.log("holidayRanges: ", holidayRanges)
					}
					// Convertir les urgences en plages similaires aux holidays
					const parsedUrgences = urgence.map(u => {
						// Convertir "jour" de "MM/DD/YYYY" à "YYYY-MM-DD"
						const [month, day, year] = u.jour.split('/');
						const isoDate = `${year}-${month}-${day}`;

						// Construire l'objet Date manuellement sans fuseau horaire
						const fromParts = [...isoDate.split('-'), ...u.heurDebut.split(':')];
						const toParts = [...isoDate.split('-'), ...u.heurFin.split(':')];

						return {
							from: new Date(fromParts[0], fromParts[2] - 1, fromParts[1], fromParts[3], fromParts[4], fromParts[5]),
							to: new Date(toParts[0], toParts[2] - 1, toParts[1], toParts[3], toParts[4], toParts[5])
						};
					});

					// Fusionner holidays et urgences en une seule liste
					const exclusions = [...parsedUrgences];
					// Parse indisponibles into ranges
					console.log("indisponibles: ", indisponibles)
					const unavailableRanges = indisponibles.map(indispo => {
						console.log("indispo: ", indispo)
						// Parse the date string and convert it to ISO format
						const parseDate = dateStr => {
							const [day, month, yearAndTime] = dateStr.split('/');
							const [year, time] = yearAndTime.split(' ');
							return new Date(`${year}-${month}-${day}T${time}`);
						};

						return {
							from: parseDate(indispo.indisponible_date_debut),
							to: parseDate(indispo.indisponible_date_end),
						};
					});

					let isHoliday = (date) => false;
					if (holidayRanges)
					// Check if a date is within a holiday
					{
						isHoliday = (date) => holidayRanges.some(range =>
							date.toISOString().split('T')[0] >= range.from.toISOString().split('T')[0] &&
							date.toISOString().split('T')[0] <= range.to.toISOString().split('T')[0]
						);
					}

					// Vérifier si le créneau chevauche une exclusion (holiday ou urgence)




					// Generate slots for 30 days
					for (let i = 0; i < 3; i++) {
						const currentDate = new Date(startDate);
						currentDate.setDate(currentDate.getDate() + i);

						const dayName = ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"][currentDate.getDay()];
						const daySchedule = daysConfig[dayName];

						if (!daySchedule || !daySchedule.start || !daySchedule.end || isHoliday(currentDate)) {
							continue; // Skip non-working days and holidays
						}

						const startTime = new Date(currentDate);
						const [startHour, startMinute] = daySchedule.start.split(":").map(Number);
						startTime.setHours(startHour, startMinute, 0, 0);

						const endTime = new Date(currentDate);
						const [endHour, endMinute] = daySchedule.end.split(":").map(Number);
						endTime.setHours(endHour, endMinute, 0, 0);
						let pauseStart
						let pauseEnd
						console.log("*************************************pauses: ", pauses)
						if (pauses.pause_start != null) {
							pauseStart = new Date(currentDate);
							const [pauseStartHour, pauseStartMinute] = pauses.pause_start.split(":").map(Number);
							pauseStart.setHours(pauseStartHour, pauseStartMinute, 0, 0);


							pauseEnd = new Date(currentDate);
							const [pauseEndHour, pauseEndMinute] = pauses.pause_end.split(":").map(Number);
							pauseEnd.setHours(pauseEndHour, pauseEndMinute, 0, 0);
						}
						let slotStart = new Date(startTime);

						// Generate slots for the day
						while (slotStart < endTime) {
							const slotEnd = new Date(slotStart);
							slotEnd.setMinutes(slotEnd.getMinutes() + duree);
							console.log("slotStart: ", slotStart)
							console.log("unavailableRanges: ", unavailableRanges)
							// Check if the slot is within unavailable or urgent intervals
							const isUnavailable = unavailableRanges.some(range => slotStart >= range.from && slotEnd <= range.to);
							//console.log("parsedUrgences: ", parsedUrgences)
							const isUrgence = parsedUrgences.some(range => slotStart >= range.from && slotEnd <= range.to);
							console.log("isUnavailable: ", isUnavailable)
							let isDuringPause = false;
							if (pauseStart) { isDuringPause = slotStart >= pauseStart && slotStart < pauseEnd; }

							if (slotEnd <= endTime && !isUnavailable && !isDuringPause && !isUrgence) {
								slots.push({
									start_at: slotStart.toISOString(),
									end_at: slotEnd.toISOString(),
								});
							}

							slotStart = new Date(slotEnd); // Move to the next slot
						}
					}

					return slots;

				}
		
			

				// Exemple d'utilisation
				/* const result = generateSlots(input);
				console.log(result); */

			})


	</script>
	<!-- Back to top -->
	<a href="#top" id="back-to-top"><i class="fa fa-angle-double-up"></i></a>
<style>
		.social-icons {
    position: fixed;
    top: 50%;
    right: 10px; /* Positionné à droite */
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.social-icons img {
    width: 40px; /* Taille des icônes */
    height: 40px;
    border-radius: 50%; /* Pour un effet arrondi */
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2); /* Ombre pour un effet plus pro */
    transition: transform 0.3s ease-in-out;
}

.social-icons img:hover {
    transform: scale(1.2);
}

	</style>
	<!-- End Popup Login-->
	<div class="social-icons" style="z-index: 9999;">
		<a href="https://www.facebook.com/people/WIC-Doctor/61567242383619/?locale=fr_FR" target="_blank">
			<img src="./../../../../assets/images/icons/fb.png" alt="Facebook">
		</a>
		<a href="https://www.youtube.com/@WICDoctor" target="_blank">
			<img src="./../../../../assets/images/icons/youtube.png" alt="Twitter">
		</a>
		<a href="https://www.instagram.com/wic_doctor_tunisia/" target="_blank">
			<img src="./../../../../assets/images/icons/insta.png" alt="Instagram">
		</a>
		<a href="https://www.linkedin.com/company/wic-doctor/posts/" target="_blank">
			<img src="./../../../../assets/images/icons/linkidin.png" alt="Instagram">
		</a>
		<a href="https://x.com/WicDoctor" target="_blank">
			<img src="./../../../../assets/images/icons/twitter.png" alt="Instagram">
		</a>
		<a href="https://api.whatsapp.com/send?phone=21626311722&text&context=ARCA4kG0-ji3IZZVIl0SGy-pasvzA9NGu6rAMyFGkteYpSXEy5aiifugPiOP2mfw5L4BpCxqvb9uRbiVxMSkhC0EsNP8_hOi8YUDxIOg66_ulRmNB6d7nsPxbmi2nm1aGpD7yzr4G7e7XetamHR9ineByQ&source&app=facebook" target="_blank">
			<img src="./../../../../assets/images/icons/whats.png" alt="Instagram">
		</a>
	</div>

	<!-- JQuery js-->
	<!--rihem 09-01-2025-->

	<script src="./../../../../assets/js/jquery.js"></script>
	<script src="./../../../../assets/js/new-js/popper.min.js"></script>
	<script src="./../../../../assets/js/new-js/bootstrap.min.js"></script>
	<script src="./../../../../assets/js/new-js/owl.js"></script>
	<script src="./../../../../assets/js/new-js/wow.js"></script>
	<script src="./../../../../assets/js/new-js/validation.js"></script>
	<script src="./../../../../assets/js/new-js/jquery.fancybox.js"></script>
	<script src="./../../../../assets/js/new-js/appear.js"></script>
	<script src="./../../../../assets/js/new-js/isotope.js"></script>
	<script src="./../../../../assets/js/new-js/parallax.min.js"></script>
	<script src="./../../../../assets/js/new-js/tilt.jquery.js"></script>

	<script src="./../../../../assets/js/scrollbar.js"></script>

	<script src="./../../../../assets/js/script.js"></script>
	<!--rihem 09-01-2025-->
	<script src="./../../../../assets/js/jquery.min.js"></script>

	<!-- Bootstrap js -->
	<script src="./../../../../assets/plugins/bootstrap/js/popper.min.js"></script>
	<script src="./../../../../assets/plugins/bootstrap/js/bootstrap.min.js"></script>

	<!--JQueryVehiclerkline Js-->
	<script src="./../../../../assets/js/jquery.sparkline.min.js"></script>

	<!-- Circle Progress Js-->
	<script src="./../../../../assets/js/circle-progress.min.js"></script>

	<!-- Star Rating Js-->
	<script src="./../../../../assets/plugins/rating/jquery.rating-stars.js"></script>

	<!--Owl Carousel js -->
	<script src="./../../../../assets/plugins/owl-carousel/owl.carousel.js"></script>

	<!--Horizontal Menu-->
	<script src="./../../../../assets/plugins/horizontal/horizontal.js"></script>

	<!--JQuery TouchSwipe js-->
	<script src="./../../../../assets/js/jquery.touchSwipe.min.js"></script>

	<!-- Datepicker js -->
	<script src="./../../../../assets/plugins/date-picker/spectrum.js"></script>
	<script src="./../../../../assets/plugins/date-picker/jquery-ui.js"></script>
	<script src="./../../../../assets/plugins/date-picker/datepicker.js"></script>

	<!--Select2 js -->
	<script src="./../../../../assets/plugins/select2/select2.full.min.js"></script>
	<script src="./../../../../assets/js/select2.js"></script>

	<!-- Cookie js -->
	<script src="./../../../../assets/plugins/cookie/jquery.ihavecookies.js"></script>
	<script src="./../../../../assets/plugins/cookie/cookie.js"></script>

	<!-- Count Down-->
	<script src="./../../../../assets/plugins/count-down/jquery.lwtCountdown-1.0.js"></script>

	<!-- sticky Js-->
	<script src="./../../../../assets/js/sticky.js"></script>

	<!-- Vertical scroll bar Js-->
	<script src="./../../../../assets/plugins/vertical-scroll/jquery.bootstrap.newsbox.js"></script>
	<script src="./../../../../assets/plugins/vertical-scroll/vertical-scroll.js"></script>

	<!-- Swipe Js-->
	<script src="./../../../../assets/js/swipe.js"></script>

	<!--Owl-Carousel Js-->
	<script src="./../../../../assets/js/owl-carousel.js"></script>
	<!--Showmore Js-->
	<script src="./../../../../assets/js/jquery.showmore.js"></script>
	<script src="./../../../../assets/js/showmore.js"></script>
	<!--doctor-details-->
	<!--<script src="./../../../../assets/js/doctor-details.js"></script>-->

	<!-- Rendez-vous-->
	<!--<script src="./../../../../assets/js/rendez-vous.js"></script>-->
	<!-- Typewritter Js-->
	<script src="./../../../../assets/js/typewritter.js"></script>
	<!-- Theme-color js -->
	<script src="./../../../../assets/js/themeColors.js"></script>

	<!-- Custom Js-->
	<script src="./../../../../assets/js/custom.js"></script>

	<!-- switcher-custom js -->
	<script src="./../../../../assets/js/switcher-custom.js"></script>

</body>

</html>